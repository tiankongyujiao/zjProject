### js关于闭包的概念
个人理解：闭包是为了使函数体内部的变量，在函数执行完毕以后不被垃圾回收机制回收调，能够继续保留函数内部的变量，该函数内部返回一个函数并在返回函数内部使用该函数的变量，那么被使用的变量在该函数执行结束以后并不会被内存释放，知道返回的函数执行完毕以后才回被垃圾回收机制回收。这样很好的避免了全局变量的污染，又保留了要保留的变量。实际在DOM的点击事件中也有使用，比如：
```
<ul class="list">
  <li>1</li>
  <li>2</li>
  <li>3</li>
  <li>4</li>
</ul>

var li = document.querySelectorAll('ul li');
for(var i=0, l = li.length; i< l; i++) {
  li[i].onClick = function() {
    console.log(i); // 打印出来的会是 4 4 4 4
  }
}
```
此时打印出来的是4个“4”，因为for循环在执行点击事件之前都已经执行完了，i已经变成了5，var生命的变量能够穿透作用域，此时可以把var改成let，或者利用闭包如下修改js：
```
var li = document.querySelectorAll('ul li');
for(var i=0, l = li.length; i< l; i++) {
  li[i].onclick = (function(j) {
      return function() {
          console.log(j)
      }
  })(i)
}
```
此时里面要返回一个函数，因为之前的onclick函数变成了一个自执行函数，onclick要是一个函数，必须要返回一个函数才行。
> 摘自狗哥的语录：闭包是通过改变JS回收机制保留某段作用域的一种手段。当一个函数执行完毕后，里面的局部变量是会被JS自带的垃圾回收机制给销毁的，从而释放内存。但是如果返回一个函数，而且函数里面有用到父级声明的变量，那么此时，变量不会被回收，因为还有可能被用到，并且外界可以通过函数访问这段作用域下的变量。
